{% extends "studies/lyt.html" %}

{% block title %}
<title>
    {% if title %}{{title}} - Grammar S1 - English studies {% else %} Grammar S1 - English studies{% endif %}
</title>
{% endblock %}



{% block content %}
    <div class="row">
        <div class="col-md-8 mb-2">
            <div class="card p-2">
                {% block grc %}
                {% endblock %}
            </div>

        </div>    


        <div class="col-md-4 position-relative">
            <div class="card position-sticky top-2 p-2">
                <div class="position-relative">
                    <input type="text" name='verb' class="form-control" placeholder="Write a verbe">
                    <button class="btn get position-absolute top-0 end-0 btn-primary">Get</button>
                </div>
                <div class="res p-2" style="height: 30vh; overflow-y: scroll;">

                </div>
            </div>
        </div>

    </div>
    <script>
        verbinp = $('input[name=verb]')
        verbbtn = $('.get')
        verbbtn.click(() => {
            $('.res').text('Waiting...')
            w = verbinp.val()
            $.ajax({
                type: "POST",
                url: "{{url_for('studies.getverb')}}",
                data: { 'word': w },
                success: (res) => {
                    verbinp.val('')

                    $('.res').html(`
                        ${res.data}
                        `)
                },
                error: (err) => {

                    $('.res').html('No results')
                }
            });
        })


    </script>
{% endblock %}

